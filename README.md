# CodeFoo-Flutter

This Flutter Project allows two users to send messages to each other in real time. At first the user is asked their name, then whether they have a code or not. If they have a code generated by the person they want to correspond with, the type in the code and are taken to the chat. If they don't have a code, they generate it and share it to the correspondant and they are taken to the chat the moment their correspondant is connected. When they are done, the chat history is deleted, the session is deleted and the user is deleted.

------------



### How to Use
- I am assuming that you have flutter and xcode or android studio already installed
- If you are running the back end NodeJS server on the localhost, make sure to update ./lib/node_connection.dart on line 8. Note that android emulators will only connect to your machine's localhost if you change it to 10.0.2.2
- When flutter installs the adhara_socket_io dependency, you might get an error about 'ws?.onHttpResponseHeaders' when you run the app on iOS. If that happens comment out line 316-320 in ./ios/Pods/Socket.IO-Client-Swift/Source/SocketIO/Engine/SocketEngine.swift
- Run flutter run. If you have more than one emulator, use flutter run -d all


------------

### To improve
- Get the back end endpoint secured. I had to expliciily ask both iOS and Android to accept unsecured connections.
- Find a way to fetch messages again when there is an ongoing chat and on the users puts the app in the background.
- Use a better state storing method instead of passing down references down the tree
- Improve UI
- Improve documentation